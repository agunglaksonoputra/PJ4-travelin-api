{
	"info": {
		"_postman_id": "d6bbc9d2-1bc2-4f16-953e-a83835e74b8e",
		"name": "Travelin API Admin Flow",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "46099238",
		"_collection_link": "https://johndoe-6049912.postman.co/workspace/John-Doe's-Workspace~e19b591a-e9f3-416d-8df8-95d80b8b8842/collection/46099238-d6bbc9d2-1bc2-4f16-953e-a83835e74b8e?action=share&source=collection_link&creator=46099238"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Auth • Login (set token)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"const json = pm.response.json();",
									"pm.expect(json.success).to.be.true;",
									"const token = (json.data && json.data.token) || json.token;",
									"pm.expect(token, 'token present').to.be.a('string').and.not.empty;",
									"pm.environment.set('authToken', token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"{{adminUsername}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Vehicles",
			"item": [
				{
					"name": "Vehicles • Create",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('vehiclePlate', `TEST-${Date.now()}`);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.expect(json.success).to.be.true;",
									"pm.expect(json.data).to.have.property('id');",
									"pm.environment.set('vehicleId', json.data.id);",
									"pm.environment.set('vehiclePlate', json.data.plate_number);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plate_number\": \"{{vehiclePlate}}\",\n  \"brand\": \"Toyota\",\n  \"model\": \"Avanza\",\n  \"manufacture_year\": 2023,\n  \"status\": \"active\",\n  \"notes\": \"Integration test\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/vehicles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Vehicles • Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"const json = pm.response.json();",
									"pm.expect(json.data.id).to.eql(pm.environment.get('vehicleId'));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/vehicles/{{vehicleId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Vehicles • Update status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"pm.expect(pm.response.json().data.status).to.eql('maintenance');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"maintenance\",\n  \"notes\": \"Moved to maintenance\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/vehicles/{{vehicleId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Vehicles • List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"pm.expect(Array.isArray(pm.response.json().data)).to.be.true;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/vehicles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Vehicles • Delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/vehicles/{{vehicleId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles",
								"{{vehicleId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Tariffs",
			"item": [
				{
					"name": "Tariffs • Create",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('tariffCode', `REG-${Date.now()}`);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.environment.set('tariffId', json.data.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"{{tariffCode}}\",\n  \"base_price\": 250000,\n  \"description\": \"Automation tariff\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/tariffs",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tariffs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tariffs • Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tariffs/{{tariffId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tariffs",
								"{{tariffId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tariffs • Update",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"description\": \"Automation tariff updated\",\n  \"is_active\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/tariffs/{{tariffId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tariffs",
								"{{tariffId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tariffs • List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"pm.expect(Array.isArray(pm.response.json().data)).to.be.true;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tariffs",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tariffs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Tariffs • Delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tariffs/{{tariffId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tariffs",
								"{{tariffId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Owners",
			"item": [
				{
					"name": "Owners • Create",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('ownerName', `Owner ${Date.now()}`);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.expect(json.success).to.be.true;",
									"pm.expect(json.data).to.have.property('id');",
									"pm.environment.set('ownerId', json.data.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"{{ownerName}}\",\n  \"phone\": \"+628112223334\",\n  \"notes\": \"Automation owner\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owners",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners"
							]
						}
					},
					"response": []
				},
				{
					"name": "Owners • Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"pm.expect(pm.response.json().data.id).to.eql(pm.environment.get('ownerId'));"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owners/{{ownerId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"{{ownerId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Owners • Update",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"notes\": \"Automation owner updated\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owners/{{ownerId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"{{ownerId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Owners • List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"pm.expect(Array.isArray(pm.response.json().data)).to.be.true;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owners",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners"
							]
						}
					},
					"response": []
				},
				{
					"name": "Owners • Delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owners/{{ownerId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"{{ownerId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Owner Withdrawals",
			"item": [
				{
					"name": "Owners • Create",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('ownerName', `Owner ${Date.now()}`);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.expect(json.success).to.be.true;",
									"pm.expect(json.data).to.have.property('id');",
									"pm.environment.set('ownerId', json.data.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"{{ownerName}}\",\n  \"phone\": \"+628112223334\",\n  \"notes\": \"Automation owner\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owners",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners"
							]
						}
					},
					"response": []
				},
				{
					"name": "Withdrawals • Create",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.expect(json.success).to.be.true;",
									"pm.environment.set('ownerWithdrawalId', json.data.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"owner_id\": {{ownerId}},\n  \"amount\": 1000000,\n  \"method\": \"transfer\",\n  \"note\": \"Automation withdrawal\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owners/withdrawals",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"withdrawals"
							]
						}
					},
					"response": []
				},
				{
					"name": "Withdrawals • Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owners/withdrawals/{{ownerWithdrawalId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"withdrawals",
								"{{ownerWithdrawalId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Withdrawals • Update",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"note\": \"Automation withdrawal updated\",\n  \"amount\": 1250000\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owners/withdrawals/{{ownerWithdrawalId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"withdrawals",
								"{{ownerWithdrawalId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Withdrawals • List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"pm.expect(Array.isArray(pm.response.json().data)).to.be.true;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owners/withdrawals?owner_id={{ownerId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"withdrawals"
							],
							"query": [
								{
									"key": "owner_id",
									"value": "{{ownerId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Withdrawals • Delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owners/withdrawals/{{ownerWithdrawalId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owners",
								"withdrawals",
								"{{ownerWithdrawalId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Transactions",
			"item": [
				{
					"name": "Vehicles • Create Copy",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('vehiclePlate', `TEST-${Date.now()}`);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.expect(json.success).to.be.true;",
									"pm.expect(json.data).to.have.property('id');",
									"pm.environment.set('vehicleId', json.data.id);",
									"pm.environment.set('vehiclePlate', json.data.plate_number);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plate_number\": \"{{vehiclePlate}}\",\n  \"brand\": \"Toyota\",\n  \"model\": \"Avanza\",\n  \"manufacture_year\": 2023,\n  \"status\": \"active\",\n  \"notes\": \"Integration test\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/vehicles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Transactions • Create",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('tripCode', `TRIP-${Date.now()}`);",
									"pm.environment.set('transactionStart', new Date().toISOString().slice(0,10));",
									"const end = new Date(Date.now() + 2*24*60*60*1000);",
									"pm.environment.set('transactionEnd', end.toISOString().slice(0,10));"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.environment.set('transactionId', json.data.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"trip_code\": \"{{tripCode}}\",\n  \"customer_name\": \"John Doe\",\n  \"customer_phone\": \"+628123456789\",\n  \"vehicle_id\": {{vehicleId}},\n  \"tariff_id\": {{tariffId}},\n  \"start_date\": \"{{transactionStart}}\",\n  \"end_date\": \"{{transactionEnd}}\",\n  \"destination\": \"Bandung\",\n  \"notes\": \"Automation create\",\n  \"price_per_day\": 500000,\n  \"duration_days\": 3,\n  \"total_cost\": 1500000\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/transactions",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Transactions • Update status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"pm.expect(pm.response.json().data.status).to.eql('payment');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"payment\",\n  \"notes\": \"Moved to payment\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/transactions/{{transactionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions",
								"{{transactionId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Transactions • Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transactions/{{transactionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions",
								"{{transactionId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Transactions • List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transactions",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Transactions • Delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transactions/{{transactionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions",
								"{{transactionId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Transaction Status Logs",
			"item": [
				{
					"name": "Status Logs • Create manual change",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 201', function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"const json = pm.response.json();",
									"pm.environment.set('transactionStatusLogId', json.data.id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transaction_id\": {{transactionId}},\n  \"from_status\": \"payment\",\n  \"to_status\": \"reporting\",\n  \"note\": \"Manual override\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/transactions/status-logs",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions",
								"status-logs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Status Logs • List by transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"const data = pm.response.json().data;",
									"if (Array.isArray(data) && data.length) {",
									"  pm.environment.set('transactionStatusLogId', data[0].id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transactions/status-logs?transaction_id={{transactionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions",
								"status-logs"
							],
							"query": [
								{
									"key": "transaction_id",
									"value": "{{transactionId}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Status Logs • Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transactions/status-logs/{{transactionStatusLogId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"transactions",
								"status-logs",
								"{{transactionStatusLogId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Activity Logs",
			"item": [
				{
					"name": "Activity Logs • List recent",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});",
									"const data = pm.response.json().data;",
									"if (Array.isArray(data) && data.length) {",
									"  pm.environment.set('activityLogId', data[0].id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/activity-logs?includeActor=true&limit=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"activity-logs"
							],
							"query": [
								{
									"key": "includeActor",
									"value": "true"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Activity Logs • Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status 200', function () {",
									"  pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/activity-logs/{{activityLogId}}?includeActor=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"activity-logs",
								"{{activityLogId}}"
							],
							"query": [
								{
									"key": "includeActor",
									"value": "true"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000/api/v1"
		},
		{
			"key": "adminUsername",
			"value": "admin"
		},
		{
			"key": "adminPassword",
			"value": "password"
		},
		{
			"key": "authToken",
			"value": ""
		},
		{
			"key": "vehicleId",
			"value": ""
		},
		{
			"key": "vehiclePlate",
			"value": ""
		},
		{
			"key": "tariffId",
			"value": ""
		},
		{
			"key": "tariffCode",
			"value": ""
		},
		{
			"key": "transactionId",
			"value": ""
		},
		{
			"key": "transactionStatusLogId",
			"value": ""
		},
		{
			"key": "activityLogId",
			"value": ""
		},
		{
			"key": "tripCode",
			"value": ""
		},
		{
			"key": "transactionStart",
			"value": ""
		},
		{
			"key": "transactionEnd",
			"value": ""
		}
	]
}